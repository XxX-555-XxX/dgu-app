#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

BRANCH="$(git rev-parse --abbrev-ref HEAD)"

if [ "$BRANCH" = "main" ]; then
  echo "pre-push: main → запускаю локальные проверки..."
  npm run typecheck && npm run lint && npm run build
else
  echo "pre-push: ветка $BRANCH → пропускаю тяжёлые проверки (их выполнит CI)"
fi
